<div class="wrap">
    <h1>Categories</h1>

    <div class="row">
        <div class="col-md-4">
            {{#if showNewCategoryField}}
                <table class="table">
                    <tr>
                        <th colspan="2">Add new Category</th>
                    </tr>
                    <tr>
                        <td colspan="2">{{view Ember.TextField valueBinding="newCategoryName" classNames="form-control" placeholder="Category Name"}}</td>
                    </tr>
                    <tr>
                        <td><button class="btn btn-primary form-control" style="margin-right: 10px;" {{action "saveNewCategory"}}>Add Category</button></td>
                        <td><button class="btn btn-default form-control" {{action "cancelNewCategory"}}>Cancel</button></td>
                    </tr>
                </table>
            {{else}}
                <button class="btn btn-default form-control" {{action "showNewCategory"}}>Add Category</button>
            {{/if}}

            {{#each category in controller}}
                <div>{{#linkTo "category" category}}{{category.id}}{{/linkTo}}</div>
                {{#each subcategory in category.subcategories}}
                    <div style="margin-left: 18px;">
                        {{#linkTo "category.subcategory" category subcategory}}{{subcategory.name}}{{/linkTo}}
                    </div>
                {{/each}}
            {{/each}}
        </div>
        <div class="col-md-8">
            {{outlet}}
        </div>
    </div>
</div>